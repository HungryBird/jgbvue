"use strict";new Vue({el:"#app",data:{tableData:null,selectedRows:[],markAllow:!0},mounted:function(){var e=this;axios.get("/messageInSite/data_get_all").then(function(t){var a=JSON.parse(t.data.message);t.data.status&&(e.tableData=a)}).catch(function(e){console.log("err",e)})},methods:{all:function(){var e=this;axios.get("/messageInSite/data_get_all").then(function(t){var a=JSON.parse(t.data.message);t.data.status&&(e.tableData=a)}).catch(function(e){console.log("err",e)})},read:function(){var e=this;axios.get("/messageInSite/data_get_read").then(function(t){var a=JSON.parse(t.data.message);t.data.status&&(e.tableData=a)}).catch(function(e){console.log("err",e)})},unread:function(){var e=this;axios.get("/messageInSite/data_get_unread").then(function(t){var a=JSON.parse(t.data.message);t.data.status&&(e.tableData=a)}).catch(function(e){console.log("err",e)})},makeItRead:function(){var e=this;axios.post("/messageInSite//data_red",this.selectedRows).then(function(t){t.data.status&&e.$message({type:"success",message:t.data.message})}).catch(function(e){console.log("err",e)})},remove:function(){var e=this,t=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",beforeClose:function(e,t,a){a(e)}}).then(function(a){"confirm"==a?axios.post("/messageInSite/data_delete",t.selectedRows).then(function(e){e.data.status&&t.$message({type:"success",message:e.data.message})}).catch(function(e){console.log(e)}):"cancel"==a&&e.$message({type:"info",message:"已取消"})}).catch(function(t){e.$message({type:"error",message:t})})},tableRowClassName:function(e){var t=e.row;e.rowIndex;if(!t.status)return"info"},rowClick:function(e){var t=this;this.$refs.msTable.toggleRowSelection(e),-1==t.selectedRows.indexOf(e)?t.selectedRows.push(e):t.selectedRows.splice(t.selectedRows.indexOf(e),1)},selectAll:function(e){var t=this;0==e.length?t.selectedRows.splice(0,t.selectedRows.length):(t.selectedRows.splice(0,t.selectedRows.length),e.forEach(function(e){t.selectedRows.push(e)}))},handleSizeChange:function(e){console.log("size",e)},handleCurrentChange:function(){}},filters:{statusFilter:function(e){return e?"已读":"未读"}},watch:{selectedRows:function(e){var t=this;if(0!=e.length){for(var a=0;a<e.length;a++)if(e[a].status)return t.markAllow=!0,!1;t.markAllow=!1}else t.markAllow=!0}}});